{% extends "base.html" %}
{% block content %}

<h3>Edit Transaction</h3>

<form method="POST" enctype="multipart/form-data">
  <div class="mb-3">
    <label>Date</label>
    <input type="date" name="date" class="form-control" value="{{ transaction.date }}">
  </div>

  <div class="mb-3">
    <label>Type</label>
    <select name="type" class="form-control" required>
      <option value="Income" {% if transaction.type == "Income" %}selected{% endif %}>Income</option>
      <option value="Expense" {% if transaction.type == "Expense" %}selected{% endif %}>Expense</option>
    </select>
  </div>

  <div class="mb-3">
    <label>Category</label>
    <input type="text" name="category" class="form-control" value="{{ transaction.category }}" required>
  </div>

  <div class="mb-3">
    <label>Description</label>
    <textarea name="description" class="form-control">{{ transaction.description }}</textarea>
  </div>

  <div class="mb-3">
    <label>Amount (â‚¦)</label>
    <input type="number" step="0.01" name="amount" class="form-control" value="{{ transaction.amount }}" required>
  </div>

  <div class="mb-3">
    <label>Payment Method</label>
    <input type="text" name="payment_method" class="form-control" value="{{ transaction.payment_method }}">
  </div>

  <div class="mb-3">
    <label>Receipt (optional)</label>
    <input type="file" name="receipt" class="form-control">
    {% if transaction.receipt %}
      <p>Current: <a href="{{ url_for('static', filename=transaction.receipt) }}" target="_blank">View</a></p>
    {% endif %}
  </div>

  <button type="submit" class="btn btn-primary">Update Transaction</button>
  <a href="{{ url_for('seller_dashboard.transactions') }}" class="btn btn-secondary">Cancel</a>
</form>

{% endblock %}
