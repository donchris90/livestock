<!DOCTYPE html>
<html lang="en">
<head>
  <title>Afrik Livestock - Buy & Sell Livestock Products in Nigeria</title>
  <meta name="description" content="Afrik Livestock is Nigeria’s #1 livestock marketplace. Buy and sell farm products, connect with agents, vets, and logistics providers easily.">
  <meta name="keywords" content="Afrik Livestock, Livestock Marketplace, Farming, Buy Livestock, Sell Livestock, Nigeria, Agents, Vets, Logistics">
<!-- Favicon from Cloudinary -->
<link rel="icon" href="https://res.cloudinary.com/dkkt6i6qj/image/upload/c_pad,w_32,h_32/v1757449001/6d07c4907dab40e3b01586c635e1247b_logo_pql03q.png" type="image/x-icon">
<link rel="shortcut icon" href="https://res.cloudinary.com/dkkt6i6qj/image/upload/c_pad,w_32,h_32/v1757449001/6d07c4907dab40e3b01586c635e1247b_logo_pql03q.png" type="image/x-icon">

  <!-- Open Graph -->
  <meta property="og:title" content="Afrik Livestock - Nigeria’s Trusted Livestock Marketplace">
  <meta property="og:description" content="Buy & sell livestock products, hire agents, vets, and logistics services. Trusted farming marketplace in Nigeria.">
  <meta property="og:image" content="https://res.cloudinary.com/dkkt6i6qj/image/upload/v1757373444/logo_phn09v.png">
  <meta property="og:url" content="{{ request.url }}">
  <meta property="og:type" content="website">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Afrik Livestock - Livestock Marketplace">
  <meta name="twitter:description" content="Buy & sell livestock products, hire agents, vets, and logistics in Nigeria.">
  <meta name="twitter:image" content="https://res.cloudinary.com/dkkt6i6qj/image/upload/v1757373444/logo_phn09v.png">


<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Livestock Marketplace</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body {
    background-color: #f8f9fa;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}
.navbar {
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
/* Product card */
.product-card {
    position: relative;
    background: #fff;
    border-radius: 12px;
    overflow: hidden;
    transition: 0.3s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.product-card:hover {
    transform: translateY(-5px);
}
.product-card img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
}
/* Mobile 2 column grid */
@media(max-width:767px){
    .col-6-mobile {padding-left:5px; padding-right:5px; width:50%;}
    .product-card img {height:150px;}
}
/* Footer full width */
footer {
    width: 100%;
    background: linear-gradient(90deg, #16a085, #2980b9);
    color: #fff;
    padding: 50px 15px 30px 15px;
    margin-top: 40px;
}
footer a {
    color: #fff;
    text-decoration: none;
}
footer a:hover {
    text-decoration: underline;
}
footer .footer-section {
    margin-bottom: 30px;
}
footer .footer-title {
    font-size: 1.2rem;
    margin-bottom: 15px;
    font-weight: 600;
}
footer .social-icons a {
    margin-right: 15px;
    font-size: 1.2rem;
}
footer .bottom-bar {
    border-top: 1px solid rgba(255,255,255,0.3);
    padding-top: 15px;
    text-align: center;
    font-size: 0.85rem;
}
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container">
    <a class="navbar-brand" href="{{ url_for('main.home') }}">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Livestock Market" style="width:120px;">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        {% if current_user.is_authenticated %}
          <!-- Role-specific dashboard -->
          {% if current_user.role in ['buyer', 'seller'] %}
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('seller_dashboard.my_dashboard') }}">Dashboard</a>
            </li>
          {% elif current_user.role == 'agent' %}
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('agents.agent_dashboard') }}">Dashboard</a>
            </li>
          {% elif current_user.role == 'logistics' %}
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('logistics.dashboard') }}">Dashboard</a>
            </li>
          {% elif current_user.role == 'vet' %}
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('vet_dashboard.dashboard') }}">Dashboard</a>
            </li>
          {% endif %}

          <!-- Logout always available if logged in -->
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('auth.logout') }}">Logout</a>
          </li>
        {% else %}
          <!-- If not logged in -->
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('auth.login') }}">Sign In</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('auth.register') }}">Register</a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<div class="container mt-4" >

 <!-- 🔍 Search + Filters -->
<form method="get" action="{{ url_for('main.home') }}" class="mb-4">

  <!-- Search bar -->
  <div class="input-group mb-2">
    <input type="text" name="q" value="{{ request.args.get('q', '') }}" class="form-control" placeholder="Search products...">
    <button type="submit" class="btn btn-primary">Search</button>
  </div>

  <!-- Collapsible filters -->
  <div class="accordion" id="filterAccordion">
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingFilters">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFilters" aria-expanded="false" aria-controls="collapseFilters">
          Advanced Filters
        </button>
      </h2>
      <div id="collapseFilters" class="accordion-collapse collapse" aria-labelledby="headingFilters" data-bs-parent="#filterAccordion">
        <div class="accordion-body">
          <div class="row g-2">

            <!-- Category -->
            <div class="col-md-3 col-6">
              <select name="category" class="form-select">
                <option value="">All Categories</option>
                <option value="cattle" {% if selected_category == 'cattle' %}selected{% endif %}>Cattle</option>
<option value="goats" {% if selected_category == 'goats' %}selected{% endif %}>Goats</option>
<option value="pig" {% if selected_category == 'pig' %}selected{% endif %}>Pig</option>
<option value="poultry" {% if selected_category == 'poultry' %}selected{% endif %}>Poultry</option>
<option value="equipment" {% if selected_category == 'equipment' %}selected{% endif %}>Farming Equipment</option>

<option value="Livestock Transport & Logistics" {% if selected_category == 'Livestock Transport & Logistics' %}selected{% endif %}>Livestock Transport & Logistics</option>
<option value="Animal Housing & Shelters" {% if selected_category == 'Animal Housing & Shelters' %}selected{% endif %}>Animal Housing & Shelters</option>
<option value="Fertilizers & Soil Amendments" {% if selected_category == 'Fertilizers & Soil Amendments' %}selected{% endif %}>Fertilizers & Soil Amendments</option>
<option value="Farm Produce" {% if selected_category == 'Farm Produce' %}selected{% endif %}>Farm Produce</option>
<option value="Farming Equipment & Tools {% if selected_category == 'Farming Equipment & Tools' %}selected{% endif %}>Farming Equipment & Tools</option>

<option value="Fish & Aquaculture" {% if selected_category == 'Fish & Aquaculture' %}selected{% endif %}>Fish & Aquaculture</option>
<option value="Bees & Honey" {% if selected_category == 'Bees & Honey' %}selected{% endif %}>Bees & Honey</option>
<option value="Animal Feed & Supplements" {% if selected_category == 'Animal Feed & Supplements' %}selected{% endif %}>Animal Feed & Supplements</option>
<option value="Veterinary Products & Medicines" {% if selected_category == 'Veterinary Products & Medicines' %}selected{% endif %}>Veterinary Products & Medicines</option>
<option value="Sheep" {% if selected_category == 'Sheep' %}selected{% endif %}>Sheep</option>
<option value="Animal Breeding Services" {% if selected_category == 'Animal Breeding Services' %}selected{% endif %}>Animal Breeding Services</option> </select>
            </div>

            <!-- State -->
            <div class="col-md-2 col-6">

           <select id="state" name="state"  class="form-select">
          <option value="">--Select State--</option>
          <option value="Abia">Abia</option>
          <option value="Adamawa">Adamawa</option>
          <option value="Akwa Ibom">Akwa Ibom</option>
          <option value="Anambra">Anambra</option>
          <option value="Bauchi">Bauchi</option>
          <option value="Bayelsa">Bayelsa</option>
          <option value="Benue">Benue</option>
          <option value="Borno">Borno</option>
          <option value="Cross River">Cross River</option>
          <option value="Delta">Delta</option>
          <option value="Ebonyi">Ebonyi</option>
          <option value="Edo">Edo</option>
          <option value="Ekiti">Ekiti</option>
          <option value="Enugu">Enugu</option>
          <option value="Gombe">Gombe</option>
          <option value="Imo">Imo</option>
          <option value="Jigawa">Jigawa</option>
          <option value="Kaduna">Kaduna</option>
          <option value="Kano">Kano</option>
          <option value="Katsina">Katsina</option>
          <option value="Kebbi">Kebbi</option>
          <option value="Kogi">Kogi</option>
          <option value="Kwara">Kwara</option>
          <option value="Lagos">Lagos</option>
          <option value="Nasarawa">Nasarawa</option>
          <option value="Niger">Niger</option>
          <option value="Ogun">Ogun</option>
          <option value="Ondo">Ondo</option>
          <option value="Osun">Osun</option>
          <option value="Oyo">Oyo</option>
          <option value="Plateau">Plateau</option>
          <option value="Rivers">Rivers</option>
          <option value="Sokoto">Sokoto</option>
          <option value="Taraba">Taraba</option>
          <option value="Yobe">Yobe</option>
          <option value="Zamfara">Zamfara</option>
          <option value="FCT">FCT</option>
        </select>
            </div>

            <!-- City (LGA) -->
            <div class="col-md-2 col-6">
             <select id="city" name="city"  class="form-select">
          <option value="">--Select LGA--</option>
        </select>
            </div>

            <!-- Price Min -->
            <div class="col-md-2 col-6">
              <input type="number" name="min_price" value="{{ request.args.get('min_price', '') }}" class="form-control" placeholder="Min ₦">
            </div>

            <!-- Price Max -->
            <div class="col-md-2 col-6">
              <input type="number" name="max_price" value="{{ request.args.get('max_price', '') }}" class="form-control" placeholder="Max ₦">
            </div>

            <!-- Buttons -->
            <div class="col-md-12 text-end mt-2">
              <button type="submit" class="btn btn-primary">Apply Filters</button>
              <a href="{{ url_for('main.home') }}" class="btn btn-secondary">Reset</a>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</form>


  <!-- 🚀 Call-to-Action Promotions -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="card shadow-sm border-success">
        <div class="card-body text-center">
          <h5 class="card-title">🚀 Promote Your Product</h5>
          <p class="card-text">Boost your sales by featuring your product at the top of search results.</p>
          <a href="{{ url_for('seller_dashboard.my_products') }}" class="btn btn-success">Promote Now</a>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow-sm border-info">
        <div class="card-body text-center">
          <h5 class="card-title">🤝 Become a Service Provider</h5>
          <p class="card-text">Join as an Agent, Logistics, or Vet and connect with farmers near you.</p>
          <a href="{{ url_for('auth.register') }}?role=agent" class="btn btn-info">Become an Agent</a>
          <a href="{{ url_for('auth.register') }}?role=logistics" class="btn btn-info">Become Logistics</a>
          <a href="{{ url_for('auth.register') }}?role=vet" class="btn btn-info">Become a Vet</a>
        </div>
      </div>
    </div>
  </div>

<!-- === Products Section === -->
<div class="container my-3">
{% if sorted_products %}
  <div class="row g-3 row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-6">
    {% for p in sorted_products %}
    <div class="col">
      <div class="card h-100 shadow-sm product-card position-relative">
 <!-- Floating Wishlist Button -->
 <!-- Floating Wishlist Button -->
<!-- Floating Wishlist Button -->
<div class="wishlist-btn position-absolute top-0 end-0 m-2">
  <form class="wishlist-form" data-product-id="{{ p.id }}"
        action="{% if p.in_wishlist %}{{ url_for('seller_dashboard.remove_from_wishlist', product_id=p.id) }}{% else %}{{ url_for('seller_dashboard.add_to_wishlist', product_id=p.id) }}{% endif %}"
        method="POST">

    <button type="submit" class="btn btn-sm rounded-circle shadow-sm
                                {% if p.in_wishlist %}btn-pink{% else %}btn-lightblue{% endif %}"
            data-bs-toggle="tooltip"
            data-bs-placement="left"
            title="{% if p.in_wishlist %}Remove from Wishlist{% else %}Save to Wishlist{% endif %}">

      <i class="{% if p.in_wishlist %}fas fa-heart text-white{% else %}far fa-heart text-dark{% endif %}"></i>
    </button>
  </form>
</div>


<!-- Custom Colors -->
<style>
  .btn-pink {
    background-color: #e83e8c; /* hot pink */
    border: none;
  }
  .btn-pink:hover {
    background-color: #d63384;
  }
  .btn-lightblue {
    background-color: #cce5ff; /* soft light blue */
    border: none;
  }
  .btn-lightblue:hover {
    background-color: #99ccff;
  }
</style>


        <script>
  document.addEventListener("DOMContentLoaded", function () {
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    tooltipTriggerList.forEach(function (tooltipTriggerEl) {
      new bootstrap.Tooltip(tooltipTriggerEl)
    })
  });
</script>
        <!-- Badges -->
        {% if p.is_boosted and p.boost_expiry and p.boost_expiry >= current_time %}
          <span class="badge bg-danger position-absolute top-0 start-0 m-2">Boosted</span>
        {% elif p.is_featured and p.featured_expiry and p.featured_expiry >= current_time %}
          <span class="badge bg-primary position-absolute top-0 start-0 m-2">Featured</span>
        {% elif p.is_top and p.top_expiry and p.top_expiry >= current_time %}
          <span class="badge bg-warning text-dark position-absolute top-0 start-0 m-2">Top</span>
        {% endif %}

       <!-- Image -->
<a href="{{ url_for('seller_dashboard.product_detail', product_id=p.id) }}">
  {% set photo = url_for('static', filename='images/default.jpg') %}  {# fallback #}
  {% if p.photos and p.photos[0] %}
    {% set photo = p.photos[0] %}  {# first Cloudinary URL #}
  {% endif %}
  <img src="{{ photo }}" class="card-img-top" alt="{{ p.title }}">
</a>


        <!-- Info -->
        <div class="card-body d-flex flex-column">
          <h6 class="card-title text-truncate">{{ p.title }}</h6>
          <p class="mb-1 text-muted small">
            <i class="fas fa-map-marker-alt"></i>
            {{ p.state }}{% if p.city %}, {{ p.city }}{% endif %}<br>
            Posted: {{ p.created_at.strftime('%b %d, %Y') }}
          </p>
          <strong class="mt-auto">{{ "{:,.0f}₦".format(p.price) }}</strong>

          <!-- Actions -->
          <div class="mt-2 d-flex flex-wrap gap-1 justify-content-between">
            {% if p.owner.phone_number %}
              <a href="https://wa.me/{{ p.owner.phone_number | replace('0','234',1) }}" target="_blank" class="btn btn-success btn-sm">
                <i class="fab fa-whatsapp"></i> WhatsApp
              </a>
              <a href="tel:{{ p.owner.phone_number }}" class="btn btn-primary btn-sm">
                <i class="fas fa-phone"></i> Call
              </a>
            {% endif %}

            <a href="{{ url_for('chat.chat_with_user', receiver_id=p.owner.id) }}" class="btn btn-secondary btn-sm">
              <i class="fas fa-comment"></i> Chat
            </a>


  {% if p.phone_display %}
    <!-- Hidden number button -->
    <div class="d-flex align-items-center gap-1 flex-fill flex-md-auto">
      <button class="btn btn-outline-primary btn-sm w-100" type="button"
              onclick="this.nextElementSibling.style.display='inline'; this.style.display='none';">
          <i class="fas fa-phone"></i> Call
      </button>

      <!-- Hidden number -->
      <a href="tel:{{ p.phone_display }}" class="text-decoration-none w-100" style="display: none;">
          <span>{{ p.phone_display }}</span>
      </a>
    </div>
  {% endif %}
           <a href="{{ url_for('seller_dashboard.product_detail', product_id=p.id) }}"
     class="btn btn-info btn-sm flex-fill flex-md-auto d-flex align-items-center justify-content-center">
    <i class="fas fa-eye me-1"></i>
    <span class="d-none d-md-inline">View</span>
  </a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-warning text-center">No products found.</div>
{% endif %}
</div>

<!-- Footer -->



<!-- ✅ Auto-load LGAs Script -->
<script>
  const lgasByState = {
     "Abia": ["Aba North", "Aba South", "Arochukwu", "Bende", "Ikwuano", "Isiala Ngwa North", "Isiala Ngwa South", "Isuikwuato", "Obi Ngwa", "Ohafia", "Osisioma", "Ugwunagbo", "Ukwa East", "Ukwa West", "Umuahia North", "Umuahia South", "Umu Nneochi"],
  "Adamawa": ["Demsa", "Fufore", "Ganye", "Girei", "Gombi", "Guyuk", "Hong", "Jada", "Lamurde", "Madagali", "Maiha", "Mayo-Belwa", "Michika", "Mubi North", "Mubi South", "Numan", "Shelleng", "Song", "Toungo", "Yola North", "Yola South"],
  "Akwa Ibom": ["Abak", "Eastern Obolo", "Eket", "Esit Eket", "Essien Udim", "Etim Ekpo", "Etinan", "Ibeno", "Ibesikpo Asutan", "Ibiono-Ibom", "Ika", "Ikono", "Ikot Abasi", "Ikot Ekpene", "Ini", "Itu", "Mbo", "Mkpat-Enin", "Nsit-Atai", "Nsit-Ibom", "Nsit-Ubium", "Obot Akara", "Okobo", "Onna", "Oron", "Oruk Anam", "Udung-Uko", "Ukanafun", "Uruan", "Urue-Offong/Oruko", "Uyo"],
  "Anambra": ["Aguata", "Anambra East", "Anambra West", "Anaocha", "Awka North", "Awka South", "Ayamelum", "Dunukofia", "Ekwusigo", "Idemili North", "Idemili South", "Ihiala", "Njikoka", "Nnewi North", "Nnewi South", "Ogbaru", "Onitsha North", "Onitsha South", "Orumba North", "Orumba South", "Oyi"],
  "Bauchi": ["Alkaleri", "Bauchi", "Bogoro", "Damban", "Darazo", "Dass", "Gamawa", "Ganjuwa", "Giade", "Itas/Gadau", "Jama'are", "Katagum", "Kirfi", "Misau", "Ningi", "Shira", "Tafawa Balewa", "Toro", "Warji", "Zaki"],
  "Bayelsa": ["Brass", "Ekeremor", "Kolokuma/Opokuma", "Nembe", "Ogbia", "Sagbama", "Southern Ijaw", "Yenagoa"],
  "Benue": ["Ado", "Agatu", "Apa", "Buruku", "Gboko", "Guma", "Gwer East", "Gwer West", "Katsina-Ala", "Konshisha", "Kwande", "Logo", "Makurdi", "Obi", "Ogbadibo", "Ohimini", "Oju", "Okpokwu", "Otukpo", "Tarka", "Ukum", "Ushongo", "Vandeikya"],
  "Borno": ["Abadam", "Askira/Uba", "Bama", "Bayo", "Biu", "Chibok", "Damboa", "Dikwa", "Gubio", "Guzamala", "Gwoza", "Hawul", "Jere", "Kaga", "Kala/Balge", "Konduga", "Kukawa", "Kwaya Kusar", "Mafa", "Magumeri", "Maiduguri", "Marte", "Mobbar", "Monguno", "Ngala", "Nganzai", "Shani"],
  "Cross River": ["Abi", "Akamkpa", "Akpabuyo", "Bakassi", "Bekwarra", "Biase", "Boki", "Calabar Municipal", "Calabar South", "Etung", "Ikom", "Obanliku", "Obubra", "Obudu", "Odukpani", "Ogoja", "Yakurr", "Yala"],
  "Delta": ["Aniocha North", "Aniocha South", "Bomadi", "Burutu", "Ethiope East", "Ethiope West", "Ika North East", "Ika South", "Isoko North", "Isoko South", "Ndokwa East", "Ndokwa West", "Okpe", "Oshimili North", "Oshimili South", "Patani", "Sapele", "Udu", "Ughelli North", "Ughelli South", "Ukwuani", "Uvwie", "Warri North", "Warri South", "Warri South West"],
  "Ebonyi": ["Abakaliki", "Afikpo North", "Afikpo South", "Ebonyi", "Ezza North", "Ezza South", "Ikwo", "Ishielu", "Ivo", "Izzi", "Ohaozara", "Ohaukwu", "Onicha"],
  "Edo": ["Akoko-Edo", "Egor", "Esan Central", "Esan North-East", "Esan South-East", "Esan West", "Etsako Central", "Etsako East", "Etsako West", "Igueben", "Ikpoba-Okha", "Oredo", "Orhionmwon", "Ovia North-East", "Ovia South-West", "Owan East", "Owan West", "Uhunmwonde"],
  "Ekiti": ["Ado Ekiti", "Efon", "Ekiti East", "Ekiti South-West", "Ekiti West", "Emure", "Gbonyin", "Ido Osi", "Ijero", "Ikere", "Ikole", "Ilejemeje", "Irepodun/Ifelodun", "Ise/Orun", "Moba", "Oye"],
  "Enugu": ["Aninri", "Awgu", "Enugu East", "Enugu North", "Enugu South", "Ezeagu", "Igbo Etiti", "Igbo Eze North", "Igbo Eze South", "Isi Uzo", "Nkanu East", "Nkanu West", "Nsukka", "Oji River", "Udenu", "Udi", "Uzo Uwani"],
  "FCT": ["Abaji", "Bwari", "Gwagwalada", "Kuje", "Kwali", "Municipal Area Council"],
  "Gombe": ["Akko", "Balanga", "Billiri", "Dukku", "Funakaye", "Gombe", "Kaltungo", "Kwami", "Nafada", "Shongom", "Yamaltu/Deba"],
  "Imo": ["Aboh Mbaise", "Ahiazu Mbaise", "Ehime Mbano", "Ezinihitte", "Ideato North", "Ideato South", "Ihitte/Uboma", "Ikeduru", "Isiala Mbano", "Isu", "Mbaitoli", "Ngor Okpala", "Njaba", "Nkwerre", "Nwangele", "Obowo", "Oguta", "Ohaji/Egbema", "Okigwe", "Onuimo", "Orlu", "Orsu", "Oru East", "Oru West", "Owerri Municipal", "Owerri North", "Owerri West"],
  "Jigawa": ["Auyo", "Babura", "Biriniwa", "Birnin Kudu", "Buji", "Dutse", "Gagarawa", "Garki", "Gumel", "Guri", "Gwaram", "Gwiwa", "Hadejia", "Jahun", "Kafin Hausa", "Kaugama", "Kazaure", "Kiri Kasama", "Kiyawa", "Maigatari", "Malam Madori", "Miga", "Ringim", "Roni", "Sule Tankarkar", "Taura", "Yankwashi"],
  "Kaduna": ["Birnin Gwari", "Chikun", "Giwa", "Igabi", "Ikara", "Jaba", "Jema'a", "Kachia", "Kaduna North", "Kaduna South", "Kagarko", "Kajuru", "Kaura", "Kauru", "Kubau", "Kudan", "Lere", "MakarfI", "Sabon Gari", "Sanga", "Soba", "Zangon Kataf", "Zaria"],
  "Kano": ["Ajingi", "Albasu", "Bagwai", "Bebeji", "Bichi", "Bunkure", "Dala", "Dambatta", "Dawakin Kudu", "Dawakin Tofa", "Doguwa", "Fagge", "Gabasawa", "Garko", "Garun Mallam", "Gaya", "Gezawa", "Gwale", "Gwarzo", "Kabo", "Kano Municipal", "Karaye", "Kibiya", "Kiru", "Kumbotso", "Kunchi", "Kura", "Madobi", "Makoda", "Minjibir", "Nasarawa", "Rano", "Rimin Gado", "Rogo", "Shanono", "Sumaila", "Takai", "Tarauni", "Tofa", "Tsanyawa", "Tudun Wada", "Ungogo", "Warawa", "Wudil"],
  "Katsina": ["Bakori", "Batagarawa", "Batsari", "Baure", "Bindawa", "Charanchi", "Dandume", "Danja", "Daura", "Dutsi", "Dutsin-Ma", "Faskari", "Funtua", "Ingawa", "Jibia", "Kafur", "Kaita", "Kankara", "Kankia", "Katsina", "Kurfi", "Kusada", "Mai'Adua", "Malumfashi", "Mani", "Mashi", "Matazu", "Musawa", "Rimi", "Sabuwa", "Safana", "Sandamu", "Zango"],
  "Kebbi": ["Aleiro", "Arewa Dandi", "Argungu", "Augie", "Bagudo", "Birnin Kebbi", "Bunza", "Dandi", "Fakai", "Gwandu", "Jega", "Kalgo", "Koko/Besse", "Maiyama", "Ngaski", "Sakaba", "Shanga", "Suru", "Wasagu/Danko", "Yauri", "Zuru"],
  "Kogi": ["Adavi", "Ajaokuta", "Ankpa", "Bassa", "Dekina", "Ibaji", "Idah", "Igalamela-Odolu", "Ijumu", "Kabba/Bunu", "Kogi", "Lokoja", "Mopa-Muro", "Ofu", "Ogori/Magongo", "Okehi", "Okene", "Olamaboro", "Omala", "Yagba East", "Yagba West"],
  "Kwara": ["Asa", "Baruten", "Edu", "Ekiti", "Ifelodun", "Ilorin East", "Ilorin South", "Ilorin West", "Irepodun", "Isin", "Kaiama", "Moro", "Offa", "Oke Ero", "Oyun", "Pategi"],
  "Lagos": ["Agege", "Ajeromi-Ifelodun", "Alimosho", "Amuwo-Odofin", "Apapa", "Badagry", "Epe", "Eti-Osa", "Ibeju-Lekki", "Ifako-Ijaiye", "Ikeja", "Ikorodu", "Kosofe", "Lagos Island", "Lagos Mainland", "Mushin", "Ojo", "Oshodi-Isolo", "Shomolu", "Surulere"],
  "Nasarawa": ["Akwanga", "Awe", "Doma", "Karu", "Keana", "Keffi", "Kokona", "Lafia", "Nasarawa", "Nasarawa Egon", "Obi", "Toto", "Wamba"],
  "Niger": ["Agaie", "Agwara", "Bida", "Borgu", "Bosso", "Chanchaga", "Edati", "Gbako", "Gurara", "Katcha", "Kontagora", "Lapai", "Lavun", "Magama", "Mariga", "Mashegu", "Mokwa", "Muya", "Paikoro", "Rafi", "Rijau", "Shiroro", "Suleja", "Tafa", "Wushishi"],
  "Ogun": ["Abeokuta North", "Abeokuta South", "Ado-Odo/Ota", "Egbado North", "Egbado South", "Ewekoro", "Ifo", "Ijebu East", "Ijebu North", "Ijebu North East", "Ijebu Ode", "Ikenne", "Imeko Afon", "Ipokia", "Obafemi Owode", "Odeda", "Odogbolu", "Ogun Waterside", "Remo North", "Sagamu"],
  "Ondo": ["Akoko North-East", "Akoko North-West", "Akoko South-East", "Akoko South-West", "Akure North", "Akure South", "Ese-Odo", "Idanre", "Ifedore", "Ilaje", "Ile Oluji/Okeigbo", "Irele", "Odigbo", "Okitipupa", "Ondo East", "Ondo West", "Ose", "Owo"],
  "Osun": ["Atakunmosa East", "Atakunmosa West", "Aiyedaade", "Aiyedire", "Boluwaduro", "Boripe", "Ede North", "Ede South", "Egbedore", "Ejigbo", "Ife Central", "Ife East", "Ife North", "Ife South", "Ifedayo", "Ifelodun", "Ila", "Ilesa East", "Ilesa West", "Irepodun", "Irewole", "Isokan", "Iwo", "Obokun", "Odo Otin", "Ola Oluwa", "Olorunda", "Oriade", "Orolu", "Osogbo"],
  "Oyo": ["Afijio", "Akinyele", "Atiba", "Atisbo", "Egbeda", "Ibadan North", "Ibadan North-East", "Ibadan North-West", "Ibadan South-East", "Ibadan South-West", "Ibarapa Central", "Ibarapa East", "Ibarapa North", "Ido", "Irepo", "Iseyin", "Itesiwaju", "Iwajowa", "Kajola", "Lagelu", "Ogbomosho North", "Ogbomosho South", "Ogo Oluwa", "Olorunsogo", "Oluyole", "Ona Ara", "Orelope", "Ori Ire", "Oyo", "Oyo East", "Saki East", "Saki West", "Surulere"],
  "Plateau": ["Barkin Ladi", "Bassa", "Bokkos", "Jos East", "Jos North", "Jos South", "Kanam", "Kanke", "Langtang North", "Langtang South", "Mangu", "Mikang", "Pankshin", "Qua’an Pan", "Riyom", "Shendam", "Wase"],
  "Rivers": ["Abua/Odual", "Ahoada East", "Ahoada West", "Akuku-Toru", "Andoni", "Asari-Toru", "Bonny", "Degema", "Eleme", "Emohua", "Etche", "Gokana", "Ikwerre", "Khana", "Obio/Akpor", "Ogba/Egbema/Ndoni", "Ogu/Bolo", "Okrika", "Omuma", "Opobo/Nkoro", "Oyigbo", "Port Harcourt", "Tai"],
  "Sokoto": ["Binji", "Bodinga", "Dange Shuni", "Gada", "Goronyo", "Gudu", "Gwadabawa", "Illela", "Isa", "Kebbe", "Kware", "Rabah", "Sabon Birni", "Shagari", "Silame", "Sokoto North", "Sokoto South", "Tambuwal", "Tangaza", "Tureta", "Wamako", "Wurno", "Yabo"],
  "Taraba": ["Ardo Kola", "Bali", "Donga", "Gashaka", "Gassol", "Ibi", "Jalingo", "Karim Lamido", "Kurmi", "Lau", "Sardauna", "Takum", "Ussa", "Wukari", "Yorro", "Zing"],
  "Yobe": ["Bade", "Bursari", "Damaturu", "Fika", "Fune", "Geidam", "Gujba", "Gulani", "Jakusko", "Karasuwa", "Machina", "Nangere", "Nguru", "Potiskum", "Tarmuwa", "Yunusari", "Yusufari"],
  "Zamfara": ["Anka", "Bakura", "Birnin Magaji/Kiyaw", "Bukkuyum", "Bungudu", "Gummi", "Gusau", "Kaura Namoda", "Maradun", "Maru", "Shinkafi", "Talata Mafara", "Chafe", "Zurmi"]

  };

  const stateSelect = document.getElementById("state");
  const citySelect = document.getElementById("city");

  stateSelect.addEventListener("change", function () {
    const selectedState = this.value;
    citySelect.innerHTML = '<option value="">--Select LGA--</option>';
    if (lgasByState[selectedState]) {
      lgasByState[selectedState].forEach(lga => {
        const option = document.createElement("option");
        option.value = lga;
        option.textContent = lga;
        citySelect.appendChild(option);
      });
    }
  });

  // Load LGA if state and city were already selected
  window.addEventListener("DOMContentLoaded", () => {
    const selectedState = "{{ request.args.get('state') }}";
    const selectedCity = "{{ request.args.get('city') }}";
    if (selectedState && lgasByState[selectedState]) {
      lgasByState[selectedState].forEach(lga => {
        const option = document.createElement("option");
        option.value = lga;
        option.textContent = lga;
        if (lga === selectedCity) option.selected = true;
        citySelect.appendChild(option);
      });
    }
  });
</script>

  <script>
document.addEventListener("DOMContentLoaded", function () {
  const wishlistForms = document.querySelectorAll(".wishlist-form");

  wishlistForms.forEach(form => {
    form.addEventListener("submit", async function (e) {
      e.preventDefault();

      const button = form.querySelector("button");
      const icon = form.querySelector("i");

      try {
        const response = await fetch(form.action, {
          method: "POST",
          headers: { "X-Requested-With": "XMLHttpRequest" }
        });

        if (response.ok) {
          // Toggle button state
          if (icon.classList.contains("far")) {
            // Saved → make filled pink
            button.classList.remove("btn-lightblue");
            button.classList.add("btn-pink");
            icon.classList.remove("far", "text-dark");
            icon.classList.add("fas", "text-white");

            // Tooltip update
            button.setAttribute("title", "Remove from Wishlist");

            // 🎉 Animate bounce
            button.classList.add("animate-heart");
            setTimeout(() => button.classList.remove("animate-heart"), 500);

          } else {
            // Removed → back to blue outline
            button.classList.remove("btn-pink");
            button.classList.add("btn-lightblue");
            icon.classList.remove("fas", "text-white");
            icon.classList.add("far", "text-dark");

            // Tooltip update
            button.setAttribute("title", "Save to Wishlist");
          }
        }
      } catch (error) {
        console.error("Wishlist update failed", error);
      }
    });
  });
});
</script>

<style>
/* Bounce animation for heart */
.animate-heart {
  animation: bounce 0.5s ease;
}
@keyframes bounce {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}
</style>
</div></div>
<!-- Full Width Footer -->
<footer>
  <div class="container-fluid px-5">
    <div class="row">

      <!-- About -->
      <div class="col-md-3 footer-section">
        <h5 class="footer-title">About Us</h5>
        <p class="small">
          AfrikLivestock connects buyers with sellers, agents, vets, and logistics providers for secure and efficient livestock trading.
        </p>
      </div>

      <!-- Quick Links -->
      <div class="col-md-3 footer-section">
        <h5 class="footer-title">Quick Links</h5>
        <ul class="list-unstyled small">
          <li><a href="/">Home</a></li>
          <li><a href="/">Products</a></li>

         <li> <a href="{{ url_for('auth.register') }}?role=agent" >Become an Agent</a></li>
          <li><a href="{{ url_for('auth.register') }}?role=logistics" >Become Logistics</a></li>
          <li><a href="{{ url_for('auth.register') }}?role=vet" >Become a Vet</a></li>
          <li><a href="{{ url_for('auth.login') }}">Login</a></li>
          <li><a href="{{ url_for('auth.register') }}">Register</a></li>
        </ul>
      </div>

      <!-- Contact -->
      <div class="col-md-3 footer-section">
        <h5 class="footer-title">Contact</h5>
        <ul class="list-unstyled small">
          <li>Email: <a href="mailto:info@afriklivestock.com">info@afriklivestock.com</a></li>
          <li>Phone: <a href="tel:+234812625329">+234 812-625329</a></li>
          <li>Address: No 6.Idilogbo Imede River, Egudu Bale, Agbara, Ogun State</li>
        </ul>
      </div>

      <!-- Legal & Newsletter -->
      <div class="col-md-3 footer-section">
        <h5 class="footer-title">Legal & Newsletter</h5>
        <ul class="list-unstyled small mb-3">
          <li><a href="/terms-of-use">Terms of Use</a></li>
          <li><a href="/privacy-policy">Privacy Policy</a></li>
          <li><a href="/refund-policy">Refund Policy</a></li>
        </ul>
        <!-- Social Icons -->
        <div class="social-icons mb-3">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
        </div>
        <!-- Newsletter -->
        <form class="d-flex">
          <input type="email" placeholder="Your email" class="form-control form-control-sm me-2" style="background: rgba(255,255,255,0.2); border: none; color:#fff;">
          <button class="btn btn-light btn-sm text-dark">Subscribe</button>
        </form>
      </div>

    </div>

    <div class="bottom-bar mt-4">
      &copy; {{ current_time.year }} AfrikLivestock. All rights reserved.
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
